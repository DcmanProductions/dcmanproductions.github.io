/* LFInteractive LLC. All Rights Reserved */
function BuildPage(){window.location.search.replaceAll("?","").split("&").forEach(e=>{let a=e.split("=")[0],l=e.split("=")[1];switch(a){case"controller":page.controller=l;break;case"view":page.view=l;break;default:let e=`{"${a}": "${l}"}`;Object.assign(page.model,JSON.parse(e))}})}async function NavBack(){await Navigate(lastpage.controller,lastpage.view,lastpage.model)}async function Navigate(e="home",a="index",l={}){let t=new LoadingScreen;lastpage=page,page={controller:e,view:a,model:l},document.dispatchEvent(new NavigationStartEvent(page));let o=`@pages/${e}/${a}.html`,n=await $.get(o),i=Object.keys(l),s=Object.values(l),c="";for(let e=0;e<i.length;e++){let a=i[e],l=s[e];null!=a&&null!=l&&(c+=`&${a}=${l}`,n.toLowerCase().includes(`{${a.toLowerCase()}}`)&&(n=n.replaceAll("{src}",l)))}window.history.pushState("","",`?controller=${e}&view=${a}${c}`),$("main")[0].innerHTML=n,await InitPageLoad(),t.close(),document.dispatchEvent(new NavigationCompleteEvent(page))}let navLoaded=!1;$(document).on("nav-complete",()=>{if(!navLoaded){navLoaded=!0;let e=$("nav.fixed.animated")[0];null!=e&&(window.scrollY>5?e.classList.add("collapsed"):e.classList.remove("collapsed"),$(document).on("scroll",()=>{window.scrollY>5?e.classList.add("collapsed"):e.classList.remove("collapsed")}))}});var page={controller:null,view:null,model:{}},lastpage=null;BuildPage(),Navigate(null==page.controller?"home":page.controller,null==page.view?"index":page.view,page.model);